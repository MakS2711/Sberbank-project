# Sberbank-project
REST-API проект, разрабатываемый в рамках курсовой работы Сбербанка, посвященный созданию микросервера "Advertisement Management System" для системы персонализированного контента.
## Технологии
Проект разрабатывался с использованием: 
- Spring Framework (Core, Boot, Data JPA, MVC)
- Lombok
- PostgreSQL
- Swagger
- SLF4J-reload4j
- MapStruct

## Как запустить? 
Для запуска web-приложения необходимо выполнить следующие шаги:

1. Создать три базы данных, с использованием СУБД PostgreSQL:

   1.1 "sberbank_project" - для основного проекта.

   1.2 "sberbank_project_test" - для тестов.

   1.3 "cds_test_client" - для Stub-project, имитации микросервиса "Content Delivery System".
   >   Названия могут быть произвольными.

2. Отредактировать application.properties в

   /src/main/resources/

   /src/test/resources/

   /Stub-project/src/main/resources/, внеся правки в следующие места:
   > spring.datasource.url=jdbc:postgresql://localhost:5432/__Имя соответствующей БД__

   > spring.datasource.username=__Имя вашего пользователя СУБД__

   > spring.datasource.password=__Пароль__

3. Ввести следующие команды в Terminal:
   > cd .\Stub-project\

   > mvn clean spring-boot:run

   > Создать новый Terminal.

   > mvn clean spring-boot:run

Для запуска тестов выполните следующую команду в Terminal:
> mvn clean test

## Основная информация
Основные требования:
1. Хранение и получение информации о контенте от Content Management System (endpoint для CMS, для сохранения контента content/save).
2. Получение информации о просмотрах рекламы пользователями.
3. Таргетирование пользователям рекламы на страницу (POST запрос в Content Delivery System).

Алгоритм таргетинга предложений:
* Система делает N отправок предложений в CDS (на каждую из 1 до N страниц) раз в сутки.
* Каждая отправка = одна кампания.
* Кампания имеет срок действия (startDate - endDate) 1 сутки.
*  В рамках одной кампании (по одному пользователю) содержится только реклама, не просмотренная пользователем (использовать для фильтрации таблицу viewed), с контентом, предназначенным для соответствующей страницы (использовать для выборки таблицу связок content_page).
* Приоритет выставляется случайно.
## Функциональные требования
1. Реализовать  сервисы для выполнения необходимых взаимодействий на Java не ниже 13 версии.
2. Можно использовать любую SQL СУБД.
3. Исходники проекта выложить на github (или альтернативы).
4. К проекту должна быть приложена инструкция с описанием реализованнных сервисов и с особенностями сборки\запуска приложения для проверки.
5. Необходимо реализовать тесты (или тестовое приложение) для проверки функционала приложения. Покрыть тестами как эндпоинты, так и методы для работы с БД.
